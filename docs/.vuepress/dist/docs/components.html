<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Komponenten | Find Mr. X</title><meta name="description" content="Vue-powered Static Site Generator">
    <link rel="preload" href="/assets/style-5963348b.css" as="style"><link rel="stylesheet" href="/assets/style-5963348b.css">
    <link rel="modulepreload" href="/assets/app-e9d270fa.js"><link rel="modulepreload" href="/assets/framework-5866ffd3.js"><link rel="modulepreload" href="/assets/components.html-abd158c4.js"><link rel="modulepreload" href="/assets/components.html-dd919874.js"><link rel="prefetch" href="/assets/index.html-7efe9e2d.js" as="script"><link rel="prefetch" href="/assets/index.html-7efe9e2d.js" as="script"><link rel="prefetch" href="/assets/index.html-13f68058.js" as="script"><link rel="prefetch" href="/assets/index.html-c32f8a7e.js" as="script"><link rel="prefetch" href="/assets/description.html-d4f375d6.js" as="script"><link rel="prefetch" href="/assets/future.html-7a49fc62.js" as="script"><link rel="prefetch" href="/assets/guide-section.html-01896b09.js" as="script"><link rel="prefetch" href="/assets/tests.html-f9825d64.js" as="script"><link rel="prefetch" href="/assets/usage.html-3a8f5e27.js" as="script"><link rel="prefetch" href="/assets/using-vue.html-74c39b85.js" as="script"><link rel="prefetch" href="/assets/index.html-74e87dfd.js" as="script"><link rel="prefetch" href="/assets/components.html-81154fa6.js" as="script"><link rel="prefetch" href="/assets/description.html-d6ee4d7e.js" as="script"><link rel="prefetch" href="/assets/future.html-af437758.js" as="script"><link rel="prefetch" href="/assets/guide-section.html-dd0704f3.js" as="script"><link rel="prefetch" href="/assets/tests.html-81e748a0.js" as="script"><link rel="prefetch" href="/assets/usage.html-e2675a5d.js" as="script"><link rel="prefetch" href="/assets/using-vue.html-2fc2fe01.js" as="script"><link rel="prefetch" href="/assets/404.html-502e8f2e.js" as="script"><link rel="prefetch" href="/assets/index.html-b809455c.js" as="script"><link rel="prefetch" href="/assets/index.html-b809455c.js" as="script"><link rel="prefetch" href="/assets/index.html-4f4f12e8.js" as="script"><link rel="prefetch" href="/assets/index.html-24056396.js" as="script"><link rel="prefetch" href="/assets/description.html-dbc4e059.js" as="script"><link rel="prefetch" href="/assets/future.html-957f3753.js" as="script"><link rel="prefetch" href="/assets/guide-section.html-f31acd70.js" as="script"><link rel="prefetch" href="/assets/tests.html-bf3a4454.js" as="script"><link rel="prefetch" href="/assets/usage.html-5343f6c2.js" as="script"><link rel="prefetch" href="/assets/using-vue.html-c0d50767.js" as="script"><link rel="prefetch" href="/assets/index.html-ee3867e4.js" as="script"><link rel="prefetch" href="/assets/components.html-3dcfc749.js" as="script"><link rel="prefetch" href="/assets/description.html-28e81c44.js" as="script"><link rel="prefetch" href="/assets/future.html-83087b22.js" as="script"><link rel="prefetch" href="/assets/guide-section.html-340d7d0f.js" as="script"><link rel="prefetch" href="/assets/tests.html-3bdb5257.js" as="script"><link rel="prefetch" href="/assets/usage.html-e35cfc68.js" as="script"><link rel="prefetch" href="/assets/using-vue.html-0867fd6b.js" as="script"><link rel="prefetch" href="/assets/404.html-87d54bd8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Find Mr. X</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/docs/" class="router-link-active" aria-label="Documentation"><!--[--><!--]--> Documentation <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/docs/components.html" class="router-link-active router-link-exact-active router-link-active" aria-label="German"><!--[--><!--]--> German <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/en/docs/components.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/docs/" class="router-link-active" aria-label="Documentation"><!--[--><!--]--> Documentation <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/docs/components.html" class="router-link-active router-link-exact-active router-link-active" aria-label="German"><!--[--><!--]--> German <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/en/docs/components.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="komponenten" tabindex="-1"><a class="header-anchor" href="#komponenten" aria-hidden="true">#</a> Komponenten</h1><p>Die App ist nach dem Model-View-Control Modell aufgebaut. Im Nachfolgenden werden die einzelnen Komponenten detailliert beschrieben.</p><h2 id="model" tabindex="-1"><a class="header-anchor" href="#model" aria-hidden="true">#</a> Model</h2><p>In dem Model werden alle für das Spiel verwendeten Daten lokal gespeichert. Für die Realisierung wird dabei die Klasse <code>GlobalState.java</code>{.java} verwendet. Mithilfe des Singleton-Pattern wird sichergestellt, dass es von dieser Klasse nicht mehrere Instanzen gibt. In dieser Klasse werden folgende Daten gespeichert:</p><p><strong>Datentyp</strong> <strong>Name</strong> <strong>Beschreibung</strong></p><hr><p><code>ArrayList&lt;Message&gt;</code>{.java} allMessages Speichert die Nachrichten aller Spieler. <code>List&lt;User&gt;</code>{.java} allUserData Speichert die Daten aller Spieler. <code>HashMap&lt;String, HashMap&lt;String, String&gt;&gt;</code>{.java} allExistingGames Speichert alle bereits existierenden Spiele inklusive der Usernamen und Bluetooth Namen. <code>GameData</code>{.java} gameData Speichert die allgemeinen Daten für das Spiel. <code>User</code>{.java} myUserData Speichert die eigenen Spieler Daten. <code>Long</code>{.java} startTime Speichert, ab wann Mr. X gesucht werden kann. <code>ArrayList&lt;Long&gt; mrXStartTimes</code>{.java} mrXStartTimes Speichert die Zeiten, zu denen Mr. X auf der Karte auftaucht</p><p>Für die Speicherung der allgemeinen Spieldaten, der Nachrichten und der Spieler, wurden eigene Klassen erstellt. Diese werden im folgenden kurz erörtert.</p><h3 id="message" tabindex="-1"><a class="header-anchor" href="#message" aria-hidden="true">#</a> Message</h3><p>Die Klasse <code>Message.java</code>{.java} speichert für jede Nachricht die benötigten Daten. Diese sind:</p><p><strong>Datentyp</strong> <strong>Name</strong> <strong>Beschreibung</strong></p><hr><p><code>String</code>{.java} username Speichert den Username des Spielers, der die Nachricht versendet hat. <code>int</code>{.java} timestamp Speichert die Zeit im timestamp-Format, zu der die Nachricht versendet wurde. <code>String</code>{.java} message Speichert den Inhalt der Nachricht.</p><h3 id="gamedata" tabindex="-1"><a class="header-anchor" href="#gamedata" aria-hidden="true">#</a> GameData</h3><p>Die Klasse <code>GameData.java</code>{.java} speichert für das Spiel die benötigten Daten. Diese sind:</p><p><strong>Datentyp</strong> <strong>Name</strong> <strong>Beschreibung</strong></p><hr><p><code>int</code>{.java} gameId Speichert die Game-ID. <code>Integer</code>{.java} gameDuration Speichert die Dauer des Spiels in Minuten. <code>Integer</code>{.java} showMrXInterval Speichert das Interval, in dem Mr. X auftaucht in Minuten. <code>GameStatus</code>{.java} gameStatus Speichert den GameStatus als Enumeration. <code>String</code>{.java} mrX Speichert den Username von Mr. X.</p><h3 id="user" tabindex="-1"><a class="header-anchor" href="#user" aria-hidden="true">#</a> User</h3><p>Die Klasse <code>User.java</code>{.java} speichert für jeden Spieler die benötigten Daten. Diese sind:</p><p><strong>Datentyp</strong> <strong>Name</strong> <strong>Beschreibung</strong></p><hr><p><code>double</code>{.java} longitude Speichert den Längengrad des Spielers. <code>double</code>{.java} latitude Speichert den Breitengrad des Spielers. <code>boolean</code>{.java} iAmMrX Speichert, ob der Spieler Mr. X ist. <code>boolean</code>{.java} iAmTheGameMaster Speichert, ob der Spieler GameMaster ist. <code>int</code>{.java} userID Speichert die User-ID des Spielers. <code>String</code>{.java} bluetoothDeviceName Speichert den Bluetooth Namen des Spielers. <code>String</code>{.java} username Speichert den Username des Spielers.</p><h2 id="view" tabindex="-1"><a class="header-anchor" href="#view" aria-hidden="true">#</a> View</h2><p>Für das Spiel werden verschiedene Views/Activities benötigt. Diese sind:</p><p><strong>Name der Activity</strong> <strong>Beschreibung</strong></p><hr><p><code>StartScreen.java</code>{.java} Diese Activity wird beim Start der App geöffnet. Hier haben die Spieler die Möglichkeit entweder ein neues Spiel zu erstellen oder einem Spiel beizutreten. <code>JoiningScreen.java</code>{.java} Sobald der Spieler ein Spiel erstellt hat oder einem beigetreten ist, wird diese Activity geöffnet. Hier sehen alle Spieler, wer alles mitspielt. Sobals ein neuer Spieler dem Spiel beitritt, wird der Name angezeigt. Für das Anzeigen der Spieler wird ein RecyclerView verwendet. Der Spieler, der das Spiel erstellt hat (GameMaster) hat in dieser Activity die Möglichkeit, das Spiel zu starten. <code>SettingsScreen.java</code>{.java} Wenn der GameMaster das Spiel gestartet hat, werden ihm die Einstellungen angezeigt. Hier kann er einstellen, wie lange das SPiel dauert, wie oft Mr. X auftaucht und wer Mr. X ist. <code>LoadingScreen.java</code>{.java} Diese Activity wird mehrfach verwendet und verwendet die Methode <code>getIntent().getExtras()</code>{.java}, um die Daten zu laden, welche angeben, was dargestellt werden soll. Diese Activity wird verwendet, wenn der GameMaster die Einstellungen festlegt, Mr. X sich versteckt und wenn das Spiel vorbei ist. <code>MapScreen.java</code>{.java} Diese Activity zeigt die Karte und die Standorte aller Spieler. Über und unter der Karte befinden sich zwei Countdowns. Der obere Countdown zeigt an, wie lange das Spiel noch geht und der untere zeigt an, wann Mr. X das nächste mal auftaucht. In der linken oberen Ecke befindet sich ein Button, mit dem man den Chat öffnet und mit den anderen Spielern schreiben kann. Unter der Karte befindet sich zudem ein Slider, den man verwenden muss, wenn man Mr. X gefunden hat. Der Chat-Button und der Slider werden nur angezeigt, wenn man selber nicht Mr. X ist. <code>ChatScreen.java</code>{.java} Diese Activity zeigt den Chat der Spieler an. Alle Nachrichten werden chronologisch mit Hilfe eines RecyclerViews angezeigt, wobei einkommende Nachrichten auf der linken Seite inklusive Name erscheinen und gesendete Nachrichten auf der rechten Seite.</p><h2 id="control" tabindex="-1"><a class="header-anchor" href="#control" aria-hidden="true">#</a> Control</h2><p>Die App besitzt zwei Controller. Den <code>GameDataController.java</code>{.java} und den <code>FireBaseController.java</code>{.java}. Der <code>GameDataController.java</code>{.java} steuert die komplette Logik zwischen dem Model und dem View, die sich auf die lokal gespeicherten Daten bezieht und besitzt folgende Methoden:</p><p><strong>Name der Methode</strong> <strong>Beschreibung</strong></p><hr><p><code>gameIdExistsAlready()</code>{.java} Überprüft, ob eine Game-ID bereits existiert. <code>createNewGame()</code>{.java} Erstellt ein neues Spiel. <code>joinGame()</code>{.java} Tritt einem bereits vorhanden Spiel bei. <code>bluetoothDeviceNameExistsAlready()</code>{.java} Überprüft, ob der Bluetooth Name bereits vergeben ist. <code>usernameExistsAlready()</code>{.java} Überprüft, ob der Username bereits vergeben ist. <code>usernameAndGameIdAreSetCorrect()</code>{.java} Überprüft, ob die Eingabe von dem Username und der Game-ID korrekt sind. <code>generateMrXStartTimes()</code>{.java} Berechnet die Zeiten, zu denen Mr. X auftaucht. <code>getLastMrXStartTime()</code>{.java} Gibt die Zeit zurück, zu der Mr. X das letzte Mal aufgetaucht ist. <code>updateUserLocation()</code>{.java} Ändert die Positionsdaten eines Spielers <code>getMrXUserId()</code>{.java} Gibt die User-ID von Mr. X zurück. <code>didIFoundMrX()</code>{.java} Überprüft, ob man Mr. X gefunden hat. <code>amIMrX()</code>{.java} Überprüft, ob man selber Mr. X ist. <code>getAllUser()</code>{.java} Gibt alle Spieler zurück. <code>getGameDuration()</code>{.java} Gibt die Dauer des Spiels zurück. <code>getShowMrXInterval()</code>{.java} Gibt das Zeitintervall zurück, in dem Mr. X auftaucht. <code>getAllMessages()</code>{.java} Gibt alle Nachrichten zurück. <code>getGameStatus()</code>{.java} Gibt den aktuellen GameStatus zurück. <code>getUserByName()</code>{.java} Gibt die Daten eines Spieler zurück über den Username.</p><p>Der <code>FireBaseController.java</code>{.java} steuert die komplette Logik zwischen der Firebase-Datenbank und dem Model bzw. dem <code>GameDataController.java</code>{.java}.</p><p><strong>Name der Methode</strong> <strong>Beschreibung</strong></p><hr><p><code>createNewGame()</code>{.java} Lädt die Daten eines neu erstellten Spiels in die Datenbank. <code>joinGame()</code>{.java} Lädt die Daten des Spielers in die Datenbank, wenn er einem Spiel beigetreten ist. <code>getAllExistingGames()</code>{.java} Lädt alle bereits existierenden Game-IDs aus der Datenbank inklusive der Usernames und der Bluetooth Namen. Dadurch kann überprüft werden, ob man ein Spiel erstellen kann oder einem Spiel beitreten kann. <code>loadOtherPlayers()</code>{.java} Sobald in der Datenbank ein neuer Spieler hinzugefügt wurde, wird diese Methode ausgelöst und die Daten werden lokal gespeichert. Dadurch können in der Activity <code>JoiningScreen.java</code>{.java} alle Spieler angezeigt werden. <code>settingDone()</code>{.java} Speichert in der Datenbank, dass der GameMaster mit den Einstellungen fertig ist und das Spiel starten kann. <code>joiningDone()</code>{.java} Speichert in der Datenbank, dass der GameMaster das Spiel gestartet hat. <code>loadNewGameStatus()</code>{.java} Überprüft, ob sich der GameStatus verändert hat. Dadurch wissen die anderen Spieler, die nicht der GameMaster sind, wann das Spiel startet. <code>sendMessage()</code>{.java} Beim versenden von Nachrichten, werden diese mit Hilfe dieser Methode in der Datenbank gespeichert. <code>loadMessages()</code>{.java} Überprüft, ob ein Spieler eine Nachricht an die Datenbank gesendet hat. Wenn eine neue Nachricht ankommt, wird diese lokal hinzugefügt und kann in der Activity <code>ChatScreen.java</code>{.java} angezeigt werden. <code>updateMyLocation()</code>{.java} Sendet die aktuelle Location an die Datenbank.</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: friedrich.voelkers@me.com">Friedrich Kasper Voelkers</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-e9d270fa.js" defer></script>
  </body>
</html>
